# 14. 리팩터링: 기존의 코드를 성장시키는 기술

### 14.1 리팩터링의 흐름

14.1.1 중첩을 제거하여 보기 좋게 만들기

조기 리턴을 활용하여 조건을 반전해서 if 조건문의 중첩을 제거

14.1.2 의미 단위로 로직 정리하기

조건 확인과 값 대입 로직을 각각 분리해서 정리. 조건 확인을 모두 완료한 이후에 값을 대입하는 순서

\=> 로직 부분과 대입하는 부분 등&#x20;

\=> <mark style="background-color:green;">목적을 카테고리로 잡아서 코드를 정리</mark>

14.1.3 조건을 읽기 쉽게 하기

논리 부정 연산자 <mark style="background-color:green;">'!' 사용하면 코드를 읽을 때 한 번 더 생각해서 '유효하지 않다'라고 바꿔 읽어야 함.</mark>

따라서 isDisabled 메서드를 추가해 활용

14.1.4 무턱대고 작성한 로직을 목적을 나타내는 메서드로 바꾸기

무턱대고 로직으로 작성하지 말고, 목적을 나타내는 메서드로 만들어 사용하는 것이 좋음.



### 14.2 단위 테스트로 리팩터링 중 실수 방지하기

14.2.1 코드 과제 정리하기

14.2.2 테스트 코드를 사용한 리팩터링 흐름

* 이상적인 구조의 기본 형태를 어느 정도 잡기
* 테스트 코드 작성하기
* 테스트 실패시키기
* 테스트 성공시키기

코드의 설계가 조금 부실해도 괜찮음. 일단 이렇게만 작성해도 테스트는 성공하게 된다.

* 리팩터링하기



### 14.3 불확실한 사양을 이해하기 위한 분석 방법

### 14.4 IDE의 리팩터링 기능

### 14.5 리팩토링 시 주의 사항

14.5.1 기능 추가와 리팩터링 동시에 하지 않기

<mark style="background-color:green;">기능 추가로 버그가 발생한 것인지, 리팩터링으로 버그가 발생한 것인지 분석하기도 힘들어짐.</mark>

14.5.2 작은 단계로 실시하기

14.5.3 불필요한 사양은 제거 고려하기

리팩터링 전에 불필한 사양이 있는지, 사양을 다시 확인하는 것도 좋습니다. 불필요한 사양과 코드를 미리 제거할 수 있다면, 더 쾌적하게 리팩터링할 수 있음.





