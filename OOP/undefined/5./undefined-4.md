# 인터페이스와 구현의 분리

### 객체 관점에서 생각하는 방법

* 좀 더 추상적인 인터페이스
* 최소 인터페이스
* 인터페이스과 구현 간에 차이가 있다는 점을 인식



첫 번째 원칙, 지나치게 상세한 수준의 메시지를 보내는 것은 객체의 자율성을 저해한다.

두 번째 원칙, 기본적으로 그냥 메시지를 따르라. 그러면 최소 인터페이스를 얻을 수 있을 것이다.

마지막 원칙, 객체의 외부와 내부를 명확하게 분리하는 것이 중요



### 구현

객체의 외부와 내부를 분리하라는 것은 결국 객체의 공용 인터페이스와 구현을 명확하게 분리하라는 말과 동일하다.



### 인터페이스와 구현의 분리 원칙

훌륭한 객체란 구현을 모른 채 인터페이스만 알면 쉽게 상호작용할 수 있는 객체를 의미한다.

이를 '인터페이스와 구현의 분리 원칙'이라고 한다.



인터페이스와 구현의 분리 원칙이 왜 중요한가? 그것은 소프트웨어는 항상 변경되기 때문이다.



인간의 두뇌가 한 번에 생각할 수 있는 양에는 한계가 있으므로 변경이라는 강력한 적과의 전쟁에서 승리하기 위해 인간이 취할 수 있는 마지막 생존 전략은 변경해도 무방한 안전 지대와 변경했을 경우 외부에 영향을 미치는 위험 지대를 구분하는 것이다.&#x20;



여기서 <mark style="background-color:green;">안전 지대가 객체의 내부인 구현이고 위험 지대가 객체의 외부인 공용 인터페이스다.</mark>



인터페이스와 구현을 분리한다는 것은 변경될 만한 부분을 객체의 내부에 꽁꽁 숨겨 놓는다는 것을 의미한다. 일반적으로 이 원칙을 수행하기 위한 객체 설계 방법을 캡슐화라고 한다.



### 캡슐화(정보 은닉)

#### 상태와 행위의 캡슐화

객체는 상태와 행위의 조합

<mark style="background-color:green;">객체는 상태와 행위를 한데 묶은 후 외부에서 반드시 접근해야만 하는 행위만 골라 공용 인터페이스를 통해 노출한다. 따라서 데이터 캡슐화는 인터페이스와 구현을 분리하기 위한 전제 조건이다.</mark>



데이터와 프로세스를 객체라는 하나의 틀 안으로 함께 묶어 놓음으로써 객체의 자율성을 보장한다.



#### 사적인 비밀의 캡슐화

외부에서 객체와 의사소통할 수 있는 고정된 경로를 공용 인터페이스라고 한다.



캡슐화를 통해 변경이 빈번하게 일어나는 불안정한 비밀을 안정적인 인터페이스 뒤로 숨길 수 있다.



책임을 결정하는 것은 메시지라는 것을 기억하라. 따라서 자율적인 책임의 특성은 자율적인 책임을 수행하게 하는 메시지의 특성과도 연결된다.
